<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=google content="notranslate"><meta name=author content="Void Framework"><meta property="og:title" content="Using cache"><meta property="og:description" content="Void Framework provides the tools to use a cache system. Caching can be done in two different ways, via the use of annotations or programmatically via the use of the CacheEngine.
&amp;nbsp; If no CacheEngine implementation was specified, the cache will n"><meta property="og:url" content="https://voidframework.dev/doc/cache/using-cache/"><meta property="og:site_name" content="Void Framework"><meta property="og:type" content="website"><meta property="og:locale" content="en_en"><title>Void Framework – Using cache</title><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css><link rel=stylesheet href=/css/site.css><link rel=icon type=image/icon href=/favicon.ico></head><body><body class=disable-select><div class="col-lg-8 mx-auto p-3 pt-md-4"><header class="align-items-center pb-3 mb-5 border-bottom"><nav class="navbar navbar-expand-lg navbar-light"><div class=container-fluid><a href=/ class="d-flex align-items-center text-dark text-decoration-none"><img width=32 height=32 class=me-2 role=img src=/favicon.ico alt="Void Framework">
<span class=fs-4>Void Framework</span><div class="collapse navbar-collapse" id=navbarScroll><ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style=--bs-scroll-height:100px><li class=nav-item><a class="nav-link disabled"></a></li></ul><div class=d-flex><a href=/doc/getting-started/requirements/ type=button class="btn btn-outline-primary btn-sm px-4">Documentation</a>
&nbsp;&nbsp;&nbsp;
<a href=/releasenotes/ type=button class="btn btn-outline-primary btn-sm px-4">Release notes</a></div></div></div></nav></header><div class=row><div class="col d-sm-none d-md-block d-none d-sm-block" style=max-width:260px><p class="fw-bold mb-auto">Getting Started</p><ul class="nav nav-pills small flex-column mb-auto"><li class=nav-item><a href=/doc/getting-started/requirements/ class=nav-link aria-current=page>Requirements</a></li></ul><ul class="nav nav-pills small flex-column mb-auto"><li class=nav-item><a href=/doc/getting-started/new-application/ class=nav-link aria-current=page>Creating a new application</a></li></ul><div class=mt-2></div><p class="fw-bold mb-auto">Core</p><ul class="nav nav-pills small flex-column mb-auto"><li class=nav-item><a href=/doc/core/boot-sequence/ class=nav-link aria-current=page>Boot sequence</a></li></ul><ul class="nav nav-pills small flex-column mb-auto"><li class=nav-item><a href=/doc/core/class-scanning/ class=nav-link aria-current=page>Class scanning</a></li></ul><ul class="nav nav-pills small flex-column mb-auto"><li class=nav-item><a href=/doc/core/life-cycle/ class=nav-link aria-current=page>Life cycle</a></li></ul><ul class="nav nav-pills small flex-column mb-auto"><li class=nav-item><a href=/doc/core/type-conversion/ class=nav-link aria-current=page>Type conversion</a></li></ul><div class=mt-2></div><p class="fw-bold mb-auto">Databases</p><ul class="nav nav-pills small flex-column mb-auto"><li class=nav-item><a href=/doc/databases/datasource/ class=nav-link aria-current=page>Data source</a></li></ul><ul class="nav nav-pills small flex-column mb-auto"><li class=nav-item><a href=/doc/databases/persistence-hibernate/ class=nav-link aria-current=page>Hibernate ORM</a></li></ul><div class=mt-2></div><p class="fw-bold mb-auto">Cache</p><ul class="nav nav-pills small flex-column mb-auto"><li class=nav-item><a href=/doc/cache/using-cache/ class="nav-link active" aria-current=page>Using cache</a></li></ul><ul class="nav nav-pills small flex-column mb-auto"><li class=nav-item><a href=/doc/cache/in-memory-cache/ class=nav-link aria-current=page>Cache engine : In-memory</a></li></ul><div class=mt-2></div><p class="fw-bold mb-auto">Internationalization</p><ul class="nav nav-pills small flex-column mb-auto"><li class=nav-item><a href=/doc/internationalization/using-i18n/ class=nav-link aria-current=page>Using internationalization</a></li></ul><div class=mt-2></div></div><div class="d-block d-sm-block d-md-none"><select class=form-select aria-label="Default select example" name=sidebar-menu id=sidebar-menu><optgroup label="Getting Started"><option value=/doc/getting-started/requirements/>Requirements</option><option value=/doc/getting-started/new-application/>Creating a new application</option></optgroup><optgroup label=Core><option value=/doc/core/boot-sequence/>Boot sequence</option><option value=/doc/core/class-scanning/>Class scanning</option><option value=/doc/core/life-cycle/>Life cycle</option><option value=/doc/core/type-conversion/>Type conversion</option></optgroup><optgroup label=Databases><option value=/doc/databases/datasource/>Data source</option><option value=/doc/databases/persistence-hibernate/>Hibernate ORM</option></optgroup><optgroup label=Cache><option value=/doc/cache/using-cache/ selected>Using cache</option><option value=/doc/cache/in-memory-cache/>Cache engine : In-memory</option></optgroup><optgroup label=Internationalization><option value=/doc/internationalization/using-i18n/>Using internationalization</option></optgroup></select><br></div><div class="col enable-select" style=min-width:260px><h2>Using cache</h2><p>Void Framework provides the tools to use a cache system. Caching can be done in two different ways, via the use of annotations or programmatically via the use of the <code>CacheEngine</code>.</p><div class="alert alert-info" role=alert><i class="fas fa-fw fa-info-circle"></i>&nbsp;
If no <code>CacheEngine</code> implementation was specified, the cache will not be active.</div><div class="alert alert-warning" role=alert><i class="fas fa-fw fa-exclamation-triangle"></i>&nbsp;
Note that caching a <code>Result</code> (Web) object can lead to errors during deserialization, especially if <code>Result</code> contains an InputStream.</div><br><h4 id=using-cache-with-annotations>Using Cache with annotations</h4><p>The cache can be used with the following annotations:</p><br><h5 id=cacheremove>@CacheRemove</h5><p>Indicates that the cache must be evicted.</p><p>The annotation accepts the following parameters:</p><ul><li><p><code>key</code> allows you to define the cache key. It can contains dynamic information via the usage of <code>{class}</code>, <code>{method}</code> and <code>{n}</code> (with <em>n</em> the method argument position). The default value is <code>{class}.{name}</code>.</p></li><li><p><code>evictOn</code> allows you to provide the exception types that must cause a cache eviction. If classes are specified, the cache will only be evicted if the specified exceptions are thrown. The default value is <code>{}</code>.</p></li><li><p><code>noEvictOn</code> allows you to provide the exception types that must not cause a cache eviction. The default value is <code>{}</code>.</p></li></ul><br><h5 id=cacheresult>@CacheResult</h5><p>Indicates that the result of the method will be cached and reused in future calls.</p><p>The annotation accepts the following parameters:</p><ul><li><p><code>key</code> allows you to define the cache key. It can contains dynamic information via the usage of <code>{class}</code>, <code>{method}</code> and <code>{n}</code> (with <em>n</em> the method argument position). The default value is <code>{class}.{name}</code>.</p></li><li><p><code>timeToLive</code> allows you to provide a configuration key to retrieve the maximum time in milliseconds to wait before giving up and continuing to stop the application. If no key is specified, the default value <code>-1</code> (no expiration) will be used.</p></li></ul><br><h5 id=example>Example</h5><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#a6e22e>@BindClass</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CacheExample</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@CacheResult</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>exampleMethod</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;value&#34;</span><span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><br><h4 id=using-cache-programmatically>Using Cache programmatically</h4><p>The programmatic usage of the cache is very simple and can be done via the injection of <code>CacheEngine</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CacheExample</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>final</span> CacheEngine cacheEngine<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Inject</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>CacheExample</span><span style=color:#f92672>(</span><span style=color:#66d9ef>final</span> CacheEngine cacheEngine<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span><span style=color:#f92672>.</span><span style=color:#a6e22e>cacheEngine</span> <span style=color:#f92672>=</span> cacheEngine<span style=color:#f92672>;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>exampleMethod</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        cacheEngine<span style=color:#f92672>.</span><span style=color:#a6e22e>set</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;key&#34;</span><span style=color:#f92672>,</span> <span style=color:#e6db74>&#34;value&#34;</span><span style=color:#f92672>);</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div></div></div><br><footer class="d-flex flex-wrap justify-content-between align-items-center pt-3 mt-4 border-top"><p class="col-md-4 mb-0 text-muted">© 2022 Void Framework</p><a href=/ class="col-md-3 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none"><img src=/favicon.ico style=width:24px></a>
<span class="col-md-5 justify-content-end text-muted" style=text-align:right>Void Framework is released under the MIT License</span></footer><script type=text/javascript src=https://code.jquery.com/jquery-3.6.0.min.js></script>
<script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js></script>
<script type=text/javascript src=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js></script>
<script type=text/javascript src=/js/application.js></script></div></body></body></html>